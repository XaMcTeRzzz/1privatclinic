"use strict";function sendToAjax(t){var e=$(t).find("select");e&&e.on("change",function(){$(this).prev(".js__chek-select").val("on")}),$(t).submit(function(e){e.preventDefault();e=$(this).serialize();$.ajax({type:"POST",url:"/wp-admin/admin-ajax.php",data:e,success:function(e){$.fancybox.open({src:"#test-covid-success",type:"inline"}),$(t).trigger("reset"),setTimeout(()=>{$.fancybox.close(),$.fancybox.close()},2e3)},error:function(e){$(t).find("span.ss-disabled").addClass("error"),$.fancybox.open({src:"#modal-error",type:"inline"})}})})}$(function(){new WOW({mobile:!1}).init();var e=document.querySelectorAll('input[type="tel"]'),e=(null!=e&&e.forEach(e=>{Inputmask({mask:"+38 (999) 99 99 999"}).mask(e)}),window.sr=ScrollReveal({reset:!0}),$(".js__grid").each(function(){let e=0;$(this).find(".js__grid-item").each(function(){sr.reveal(this,{delay:e,distance:"10px",easing:"ease-out",origin:"top",reset:!1,scale:1,viewFactor:0}),e+=100})}),$("#main-nav").hcOffcanvasNav({maxWidth:992,position:"right",levelTitles:!0,customToggle:".js__burger",levelTitlesAsBack:!0,levelSpacing:0}));$(".nav-wrapper-1").each(function(){$(this).find("h2").replaceWith("<p style='display: none;'>"+$(this).find("h2").html()+"</p>")}),e.on("close",function(){$(".js__popCity_menu").fadeOut("normal",function(){$(this).removeAttr("style"),$(this).removeClass("open")})});let t=$(document).find(".hc-offcanvas-nav .list-lang__item-link"),n=($(document).find(".hc-offcanvas-nav .list-shared__item__link"),$(document).find(".hc-offcanvas-nav .nav-content"));n.each(function(){var e=$(this).find("h2").text();$(this).find(".nav-back > a").html(`<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M19 12L5 12" stroke="#707E98" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            <path d="M11 18L5 12L11 6" stroke="#707E98" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                         </svg> `+e)}),n.click(function(e){$(".js__popCity_menu").fadeOut("normal",function(){$(this).removeAttr("style"),$(this).removeClass("open")})}),t.wrapAll("<div class='list-lang'/>");new Swiper(".comment-slider",{autoHeight:!0,watchOverflow:!0,pagination:{el:".swiper-pagination",type:"fraction"},navigation:{nextEl:".swiper-button-prev",prevEl:".swiper-button-next"},breakpoints:{0:{slidesPerView:1,spaceBetween:20},768:{slidesPerView:2,spaceBetween:40},992:{slidesPerView:2,spaceBetween:140}}}),new Swiper(".video__slider",{loop:!0,slidersPerView:1,watchOverflow:!0,pagination:{el:".swiper-pagination",type:"fraction"},navigation:{nextEl:".swiper-button-prev",prevEl:".swiper-button-next"}}),new Swiper(".banner__slider",{loop:!0,autoplay:{delay:5e3},speed:1e3}),new Swiper(".js__page-slider",{slidesPerView:1,watchOverflow:!0,pagination:{el:".swiper-pagination"},navigation:{nextEl:".swiper-button-prev",prevEl:".swiper-button-next"},breakpoints:{0:{pagination:{type:"bullets"}},568:{pagination:{type:"fraction"}}}});if($().fancybox({selector:'[data-fancybox="gallery"]',animationEffect:"fade",infobar:!0,backFocus:!1,buttons:["close"]}),document.querySelector(".js__slider-year")){let t=void 0,n=void 0;function o(){var e=$(window).width();768<e&&null==n?(t=new Swiper(".js__slider-year",{watchSlidesVisibility:!0,watchSlidesProgress:!0,loop:!0,breakpoints:{768:{slidesPerView:3,spaceBetween:40},992:{slidesPerView:4,spaceBetween:30},1200:{slidesPerView:"auto",spaceBetween:60}}}),n=new Swiper(".js__slider-year-bottom",{watchOverflow:!0,loop:!0,navigation:{nextEl:".slider-year-bottom-next",prevEl:".slider-year-bottom-prev"},thumbs:{swiper:t}})):e<768&&null!=n&&(t.destroy(),n.destroy(),t=void 0,n=void 0,$(".swiper-wrapper").removeAttr("style"),$(".swiper-slide").removeAttr("style"))}o(),$(window).on("resize",function(){o()})}new Swiper(".js__doc-slider",{navigation:{nextEl:".swiper-button-prev",prevEl:".swiper-button-next"},watchOverflow:!0,breakpoints:{0:{slidesPerView:1,spaceBetween:15},771:{slidesPerView:2,spaceBetween:30},1200:{slidesPerView:3,spaceBetween:30}}}),document.querySelector("#schedule-select");var e=document.querySelector("#radiusSelect"),i=document.querySelector("#signUpSelect"),s=document.querySelector("#askQuestionSelect");if(i&&new SlimSelect({select:i,placeholder:!0,showSearch:!1}),s&&new SlimSelect({select:s,placeholder:!0,showSearch:!1}),e&&new SlimSelect({select:e,placeholder:!0,showSearch:!1}),$(".schedule-table-nav-wrap").mCustomScrollbar({theme:"my-theme",mouseWheelPixels:80}),document.querySelector(".js__guide-left")){let n=void 0,o=void 0;function a(){var e,t=$(window).width();768<t&&null==o?(e=new Swiper(".js__guide-left",{slidesPerView:1,spaceBetween:30,centeredSlides:!0,centeredSlidesBounds:!0,watchOverflow:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0,observer:!0,observeParents:!0,breakpoints:{0:{spaceBetween:15},768:{direction:"vertical",spaceBetween:30},1200:{direction:"horizontal"}}}),new Swiper(".js__guide-right",{slidesPerView:1,watchOverflow:!0,watchSlidesVisibility:!0,watchSlidesProgress:!0,preventInteractionOnTransition:!0,observer:!0,observeParents:!0,navigation:{nextEl:".swiper-button-prev",prevEl:".swiper-button-next"},thumbs:{swiper:e},effect:"fade",fadeEffect:{crossFade:!0}})):t<768&&null!=o&&(n.destroy(),o.destroy(),n=void 0,o=void 0,$(".swiper-wrapper").removeAttr("style"),$(".swiper-slide").removeAttr("style"))}a(),$(window).on("resize",function(){a()})}flatpickr.defaultConfig.prevArrow=`<svg width="9" height="28" viewBox="0 0 9 28" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M8.19329 9.07846L6.63424 7.51941L0 14.1537L6.63424 20.7879L8.19329 19.2288L3.12915 14.1537L8.19329 9.07846Z" fill="black" fill-opacity="0.6"/>
</svg>
`,flatpickr.defaultConfig.nextArrow=`<svg width="9" height="28" viewBox="0 0 9 28" fill="none" xmlns="http://www.w3.org/2000/svg">
<path fill-rule="evenodd" clip-rule="evenodd" d="M2.35934 7.51953L0.800293 9.07858L5.86443 14.1538L0.800293 19.229L2.35934 20.788L8.99358 14.1538L2.35934 7.51953Z" fill="black" fill-opacity="0.6"/>
</svg>`;document.documentElement.lang;i=$("#flatpickrInput");i.flatpickr({minDate:"today",locale:i.data("lang"),dateFormat:"d. m. Y"})}),document.addEventListener("DOMContentLoaded",function(e){$(".trigger_tel_sections").click(function(){$(".overlay_new_sc").fadeIn(100,function(){$(".show_mobiles_modal_tel").fadeIn(100)})}),$(".closed_modals_telephones, .overlay_new_sc").click(function(){$(".show_mobiles_modal_tel").fadeOut(100,function(){$(".overlay_new_sc").fadeOut(100)})});$(".js__appendToJs__cloneClock");const t=$(".js__cloneClock"),n=$(".js__medPop"),o=$(".js__medPop-trigger"),i=$(".js__medChangeCityByIp-trigger"),s=$(".js__popRegion"),a=$(".js__popRegionDesc"),r=$(".js__popCity"),l=$(".js__popCity_menu");function c(e){e.fadeOut("normal",function(){$(this).removeAttr("style"),$(this).removeClass("open")})}function d(e){e.fadeToggle("normal",function(){$(this).removeAttr("style"),$(this).toggleClass("open")})}$(".wrapper").click(function(e){e=$(e.target);e.is(".header *, .js__trigger-medPop")||(c(t),c(s),c(a),c(n),c(r),c(l)),e.is(".header *")&&!e.closest(".js__reg-city-desc").length&&c(a),e.is(".nav-title *")||$(".list-doctor-mob").fadeOut("fast",function(){$(this).removeAttr("style"),$(this).removeClass("open")})}),$(".js__cont-trigger").click(function(){c(n),c(s),c(r),d(t)}),$(".js__cont-trigger-region").click(function(){c(s),c(r),$(".js__popRegion").removeClass("active")}),$(".js__cont-trigger-city").click(function(){c(r),c(l),$(".js__popRegion").removeClass("active"),$(".js__popCity_menu").removeClass("open")}),$(".js__reg-trigger").click(function(){c(n),c(t),d(s)}),$(".js__reg-city").click(function(){d(r),$(".js__popRegion").toggleClass("active")}),$(".js__reg-city-desc").click(function(){d(a),console.log("xxx2")}),$(".js__reg-city_menu").click(function(){d(l),$(".js__popCity_menu").toggleClass("open")}),$(document).find(".js__trigger-medPop").click(function(e){e.preventDefault(),d(n),$(".med-call-pop").find('input[type="text"]').focus()}),o.click(function(e){c(n)}),i.click(function(e){$.fancybox.close({src:"#check-city-modal",type:"inline"})}),$.fn.inline=function(){this.css({display:"flex"})},$(".change-city").click(function(){$(this).addClass("active");var e=$(this).attr("data-gd");window.location.pathname;"pl"==e&&(window.location.href="https://poltava.medzdrav.com.ua/")}),$(".nav-bottom__nav > ul > li").mouseenter(function(e){992<$(window).width()&&($(this).children("ul").stop(!0,!1).fadeIn(150,function(){$(this).addClass("open")}).inline(),e.preventDefault()),$("#ajaxsearchlite1 .orig").focus(function(){$("#ajaxsearchlite1").addClass("active")}),$("#ajaxsearchlite1 .orig").blur(function(){0===$(this).val().length&&$("#ajaxsearchlite1").removeClass("active")}),$(".proclose").click(function(){$("#ajaxsearchlite1 .orig").val()})}),$(".nav-bottom__nav > ul > li").mouseleave(function(e){992<$(window).width()&&($(this).children("ul").stop(!0,!1).fadeOut(150,function(){$(this).removeClass("open")}).inline(),e.preventDefault())});let p=$(".content"),u=$(".header"),m=p.position().top,f=u.innerHeight();$(window).scroll(function(){992<$(window).width()&&($(window).scrollTop()>=m?(u.addClass("sticky"),$(".proclose").trigger("click"),$("#ajaxsearchlite1").removeClass("active"),p.css("margin-top",f+"px")):(u.removeClass("sticky"),p.removeAttr("style")))});const h=document.querySelector(".js__lg-append-table"),v=document.querySelector(".js__get-tabs-container"),w=document.querySelector(".js__lg-append-calendar"),g=document.querySelector(".mob-tab-content"),_=document.querySelector(".js__lg-get-calendar"),y=document.querySelector(".js__lg-append-table-bay"),b=document.querySelector(".js__get-tabs-containerCalendar");function x(){1124<window.innerWidth&&(v.append(h),b.append(w,y)),window.innerWidth<1124&&(g.append(y,h),_.append(w))}h&&(x(),window.addEventListener("resize",function(e){x()})),setTimeout(()=>{window.dispatchEvent(new Event("resize"))},300);$(".js__certificate-slider .certificate-slider-item").length,new Swiper(".js__certificate-slider",{slidesPerView:"auto",watchOverflow:!0,loop:!1,spaceBetween:5,pagination:{el:".swiper-pagination"},navigation:{nextEl:".swiper-button-prev",prevEl:".swiper-button-next "},breakpoints:{0:{pagination:{type:"bullets"}},768:{pagination:{type:"fraction"}},992:{pagination:{type:"fraction"}}}});const k=[],j=$(".nav-bottom-row").innerHeight();$(".js__section-scroll").each(function(){k.push($(this).offset().top)}),$(document).scroll(function(){for(var e,t=$(document).scrollTop(),n=0;n<k.length;n++)if(t<=k[n]){e=n;break}$("#nav  a").removeClass("active"),$("#nav a:eq("+e+")").addClass("active")}),$("#nav  a").click(function(){$("#nav a").removeClass("active"),$(this).addClass("active"),$("html, body").animate({scrollTop:$($.attr(this,"href")).offset().top-j-10},500)}),$("ul.tabs li").click(function(){var e=$(this).attr("data-tab");$("ul.tabs li").removeClass("current"),$(".tab-content").removeClass("current"),$(this).addClass("current"),$("#"+e).addClass("current")}),$("ul.mob-tabs li").click(function(){var e=$(this).attr("data-mob-tab");$("ul.mob-tabs li").removeClass("open"),$(".mob-tab-content").removeClass("open"),$(this).addClass("open"),$("#"+e).addClass("open")});$(".schedule-table-nav-wrap");$(document).on("mouseleave",".schedule-table-nav-wrap",function(){c($(".schedule-table-nav-wrap"))}),$(document).on("click",".js__schedule",function(){$(".js__schedule").not(this).next().fadeOut("fast"),$(this).next().fadeToggle("fast")}),$(document).on("click",".schedule-calendar-title",function(){window.innerWidth<992&&($(this).toggleClass("open"),$(this).next().slideToggle("fast",function(){$(this).removeAttr("style"),$(this).toggleClass("open")}))}),$(".js__list-doctor-mob-trigger, .list-doctor-mob__cross").click(function(e){$(".list-doctor-mob").fadeToggle("fast",function(){$(this).removeAttr("style"),$(this).toggleClass("open")})});const S=$(".product-accordion-title"),C=$(".product-accordion-decr"),T="active";S.on("click",function(){$(this).toggleClass(T),$(this).next(C).slideToggle("normal",function(){$(this).toggleClass(T),$(this).removeAttr("style")}),$(this).hasClass("js__not-next-ub")||S.not(this).removeClass(T).next(C).slideUp("normal",function(){$(this).removeClass(T),$(this).removeAttr("style")})}),$(".accordion-har-title").click(function(){$(this).toggleClass("active"),$(this).next().slideToggle("normal",function(){$(this).removeAttr("style"),$(this).toggleClass("open")})}),$(".accordion-schedule-title").click(function(){$(this).parent().toggleClass("active"),$(this).next().slideToggle("normal",function(){$(this).toggleClass("open")})});var E,O,q,P,L=0;$(".counter-value").length&&$(window).scroll(function(){var e=$("#counter").offset().top-window.innerHeight;0==L&&$(window).scrollTop()>e&&($(".counter-value").each(function(){var e=$(this),t=e.attr("data-count");$({countNum:e.text()}).animate({countNum:t},{duration:2e3,easing:"swing",step:function(){e.text(Math.floor(this.countNum))},complete:function(){e.text(this.countNum),e.addClass("plus")}})}),L=1)}),$(".btn-ul").click(function(){return $("html, body").animate({scrollTop:0},800),!1}),768<window.innerWidth&&(O=$(window),window.pageYOffset||document.documentElement.scrollTop,q=[],P=[],$('[data-type="content"]').each(function(e,t){var n=$(this);n.__speed=n.data("speed")||1,n.__fgOffset=n.offset().top,q.push(n)}),$('[data-type="background"]').each(function(){var e=$(this);e.__speed=e.data("speed")||1,e.__fgOffset=e.offset().top,P.push(e)}),O.on("scroll resize",function(){E=window.pageYOffset||document.documentElement.scrollTop,q.forEach(function(e){var t=e.__fgOffset-E/e.__speed;e.css("top",t)}),P.forEach(function(e){var t=-((E-e.__fgOffset)/e.__speed);e.css({backgroundPosition:"50% "+t+"px"})})}),O.trigger("scroll")),$(".parent-accordion-arrow").click(function(){$(this).toggleClass("active"),$(this).prev("span").toggleClass("open"),$(this).next("ul").slideToggle()})}),sendToAjax(".js__form-sing-up"),sendToAjax(".js__call_back"),sendToAjax(".js__ask_question"),sendToAjax(".js__form_check_up"),sendToAjax(".js__sub-form");let doctorsSector=document.querySelector("#signUpSelectDoctors");if(doctorsSector){let t=new SlimSelect({select:doctorsSector,placeholder:doctorsSector.getAttribute("data-placeholder"),showSearch:!1,options:[]});$(".js__setToSelectDoctors").click(function(){var e=$(this).data("doctors-json");t.setData(e)})}$(".feedback-name").on("input",function(){$(".feedback-name").next("label").hide(),$(".feedback-name").css("box-shadow","")}),$(".feedback-phone").on("input",function(){$(".feedback-phone").next("label").hide(),$(".feedback-phone").css("box-shadow","")}),$(".send-email").click(function(){var e=$(".feedback-name").val(),t=$(".feedback-phone").val();event.preventDefault(),$.ajax({url:"/wp-admin/admin-ajax.php",type:"POST",dataType:"JSON",data:"action=send_email&name="+e+"&phone="+t+"&subject="+$(".feedback-subject").val()+"&type="+$(".feedback-type").val(),success:function(e){1==e.status?($(".js__medPop").fadeOut("normal",function(){$(this).removeAttr("style"),$(this).removeClass("open")}),$.fancybox.open({src:"#modal-done",type:"inline"})):(e.errors.includes("name")&&($(".feedback-name").css("box-shadow","0 0 3px rgb(255, 0, 0)"),$(".feedback-name").next("label").show()),e.errors.includes("phone")&&($(".feedback-phone").css("box-shadow","0 0 3px rgb(255, 0, 0)"),$(".feedback-phone").next("label").show()))},error:function(){$.fancybox.open({src:"#modal-error",type:"inline"})}})}),$(".review-review").on("input",function(){$(".review-review").next("label").hide(),$(".review-review").css("box-shadow","")}),$(".review-name").on("input",function(){$(".review-name").next("label").hide(),$(".review-name").css("box-shadow","")}),$(".send-email-review").click(function(){event.preventDefault(),$.ajax({url:"/wp-admin/admin-ajax.php",type:"POST",dataType:"JSON",data:"action=send_email&name="+$(".review-name").val()+"&phone="+$(".review-phone").val()+"&subject="+$(".review-subject").val()+"&type="+$(".review-type").val()+"&email="+$(".review-email").val()+"&review="+$(".review-review").val(),success:function(e){1==e.status?($(".js__medPop").fadeOut("normal",function(){$(this).removeAttr("style"),$(this).removeClass("open")}),$.fancybox.open({src:"#modal-done-review",type:"inline"})):(e.errors.includes("name")&&($(".review-name").css("box-shadow","0 0 3px rgb(255, 0, 0)"),$(".review-name").next("label").show()),e.errors.includes("review")&&($(".review-review").css("box-shadow","0 0 3px rgb(255, 0, 0)"),$(".review-review").next("label").show()))},error:function(){$.fancybox.open({src:"#modal-error-review",type:"inline"})}})}),$(".hint-link").click(function(){var e=$(this).text();window.location.replace("/?s="+e)}),$("#covid-test-phone").on("input",function(){$("#covid-test-error-msg").text("")}),$("#covid-test-date").on("input",function(){$("#covid-test-error-msg").text("")}),$(".get-covid-test").click(function(){$.fancybox.open({src:"#covid-test-modal",type:"inline"})}),$("#send-covid-test").click(function(){var e=$("#covid-test-email").val(),t=$("#covid-test-phone").val(),n=$("#covid-test-comment").val(),o=$("#covid-test-date").val();event.preventDefault(),$.ajax({url:"/wp-admin/admin-ajax.php",type:"POST",dataType:"JSON",data:"action=send_tg_message&phone="+t+"&email="+e+"&comment="+n+"&date="+o,success:function(e){e=e.status;1==e?$.fancybox.open({src:"#test-covid-success",type:"inline"}):0==e?$("#covid-test-error-msg").text("Проверьте, что Вы корректно заполнили обязательные поля и повторите действие."):2==e&&$.fancybox.open({src:"#schedule-modal-3",type:"inline"})},error:function(){$.fancybox.open({src:"#schedule-modal-3",type:"inline"})}})}),$(function(){$('.proinput input[type="search"]').on("input",function(){""!==$(this).val().trim()?$(this).closest(".wpdreams_asl_container").addClass("active"):$(this).closest(".wpdreams_asl_container").removeClass("active")});var t=window.location.hash;if("#thanks"===t||"#field-not-empty"===t||"#file-too-large"===t||"#something-went-wrong"===t||"#make-an-appointment"===t){let e="";"#thanks"===t?e="#test-covid-success":"#field-not-empty"===t?e="#modal-error-review":"#file-too-large"===t?e="#modal-error-size-file":"#something-went-wrong"===t?e="#schedule-modal-3":"#make-an-appointment"===t&&(e="#sign-up-modal"),$.fancybox.open({src:e,type:"inline"})}t=document.querySelectorAll(".field__file");Array.prototype.forEach.call(t,function(e){let o=document.documentElement.lang,i=e.nextElementSibling,s=i.querySelector(".field__file-fake").innerText;e.addEventListener("change",function(e){let t="";var n;(t=this.files?this.files[0].name:t)?(n="ru"==o?"Выбрано: ":"Обрано: ",i.querySelector(".field__file-fake").innerText=n+t):i.querySelector(".field__file-fake").innerText=s})}),document.cookie.replace(/(?:(?:^|.*;\s*)check_ip\s*=\s*([^;]*).*$)|^.*$/,"$1")||jQuery.ajax({url:"/wp-admin/admin-ajax.php",type:"POST",cache:!1,data:{action:"check_city_by_ip"},success:function(e){document.cookie="check_ip=1",e.data&&$.fancybox.open({src:"#check-city-modal",type:"inline"})}})}),$(".comment-respond .form-default").submit(function(e){return e.preventDefault(),$(".submit").hasClass("loadingform")||$(".author").hasClass("error")||$(".email").hasClass("error")||$(".comment").hasClass("error")||$.ajax({type:"POST",url:"/wp-admin/admin-ajax.php",data:$(this).serialize()+"&action=ajaxcomments",beforeSend:function(e){$(".submit").addClass("loadingform")},error:function(e,t,n){$.fancybox.open({src:"#modal-error",type:"inline"})},success:function(e){$(".comment").val(""),$.fancybox.open({src:"#modal-done-review",type:"inline"}),$(".submit").removeClass("loadingform")}}),!1}),document.addEventListener("DOMContentLoaded",function(){$(".js__reset-filter").click(function(){$("[data-term-id]").removeClass("active"),$(".search-close__js").trigger("click"),$(this).removeClass("active")}),$("ul.children").each(function(){0===$(this).children().length&&$(this).prev().hide()});let s=$("[data-term-id]");s.on("click",function(e){var t,n,o,i;e.preventDefault(),$(this).toggleClass("active"),s.not($(this)).removeClass("active"),t=[],o=n="",$("[data-term-id].active").each(function(){var e=$(this).data("term-id");n=$(this).text().replace("(чекап)",""),o=$(this).data("term-type"),t.push(e)}),0<$("[data-term-id].active").length?$(".btn-reset-filter").addClass("active"):$(".btn-reset-filter").removeClass("active"),i=$("#ajax-block"),$.ajax({url:"/wp-admin/admin-ajax.php",data:{action:"mia_get_filterd_posts",args:t,title:n,termType:o},type:"POST",dataType:"json",beforeSend:function(e){$(".indicator").addClass("active")},success:function(e){return e.success&&(i.html(e.data),$(".indicator").removeClass("active")),$("html, body").animate({scrollTop:0},800),!1}})}),$(".search-bar__js").submit(function(e){e.preventDefault()});let t,e=$(".input_search"),n=$(".indicator"),o=$("#ajax-block");function i(){$.ajax({url:"/wp-admin/admin-ajax.php",type:"GET",dataType:"json",cache:!0,data:{action:"mia_search_api_services",s:e.val()},beforeSend:function(e){n.addClass("active")},success:function(e){e=e.data;e.length&&(o.html(e),n.removeClass("active"))}})}$(".search-close__js").click(function(){e.val(""),i()}),e.on("keyup",function(){clearTimeout(t),t=setTimeout(i,1e3)}),e.on("input",function(){e.val()?$(".btn-reset-filter").addClass("active"):$(".btn-reset-filter").removeClass("active")}),e.on("keydown",function(e){clearTimeout(t),13==e.keyCode&&e.preventDefault()}),void 0!==e&&0<e.length&&""!==e.val()&&i(),e.on("keydown",function(e){/[бвгґджзклмнпрстфхцчшщйаеєиіїоуюяь]/gi.test($(this).val()&&""!==$(this).val())||console.log("введите только латинские символы или пробелы")})});let is_poll_form_sending=!1;const pollRequest=async(e,t)=>{if(is_poll_form_sending=!0,e){(t=0===t.length?new FormData:t).append("action",e);try{return fetch("/wp-admin/admin-ajax.php",{method:"POST",cache:"no-cache",credentials:"same-origin",body:t})}catch(e){console.log(e)}}};function getPollDataById(){setTimeout(()=>{if(is_poll_form_sending)return!1;var e=new FormData;e.append("pathname",window.location.pathname);const t=document.querySelector(".questions-wrap"),n=document.querySelector(".poll-send-interactive-first-load .preloader-poll-send"),o=document.querySelector(".poll-send-interactive-first-load .error-msg");pollRequest("get_poll_data_by_id",e).then(e=>e.json()).then(e=>{!0===e.success?(document.querySelector(".poll-send-interactive-first-load").remove(),t.innerHTML=e.data,document.getElementById("js-poll-send-form").style.display="block",console.log("success")):o.innerHTML=e?.data?.message?e.data.message:"Server Error"}).catch(e=>{console.log(e),o.innerHTML=e}).finally(()=>{n.style.display="none",is_poll_form_sending=!1})},0)}document.addEventListener("DOMContentLoaded",function(){$(document).on("click","#js-poll-send-button",function(e){if(e.preventDefault(),is_poll_form_sending)return!1;var e=document.getElementById("js-poll-send-form"),t=new FormData(e);t.append("pathname",window.location.pathname);const n=e.querySelector(".preloader-poll-send"),o=e.querySelector(".error-msg");o.innerHTML="",n.style.display="block",pollRequest("send_poll_data",t).then(e=>e.json()).then(e=>{var t;!0===e.success?(console.log("success"),document.getElementById("js-poll-send-form").remove(),document.querySelector(".questions").innerHTML=e.data.message,document.querySelector(".questions").scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})):!1===e.success&&"validation_error"===e?.data?.code?((t=new PollFormValidator("js-poll-send-form")).clearErrors(),t.showErrors(e.data.errors)):o.innerHTML=e.data.message}).catch(e=>{console.log(e)}).finally(()=>{n.style.display="none",is_poll_form_sending=!1})}),getPollDataById()}),window.pollFormValidatorInputListener=function(){this.closest(".question")?.querySelector(".question-error-message")?.remove()};class PollFormValidator{constructor(e){document.getElementById(e).getElementsByTagName("input").forEach(function(e){e.removeEventListener("input",window.pollFormValidatorInputListener),e.addEventListener("input",window.pollFormValidatorInputListener)})}showErrors(e){var t,n,e=Object.entries(e);for([t,n]of e){var o=document.getElementById(t);if(!o)return;this.showError(o,n)}document.getElementById(e[0][0]).scrollIntoView({behavior:"smooth",block:"end",inline:"nearest"})}showError(e,t){e.insertAdjacentHTML("beforeend",`<span class="question-error-message">${t}</span>`)}clearErrors(){document.querySelectorAll(".question-error-message").forEach(e=>{e.remove()})}}
//# sourceMappingURL=scripts.min.js.map
